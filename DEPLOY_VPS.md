# Deployment Guide to VPS (Nginx)

Since this is a static site (SSG), deploying to a VPS is very efficient. We will use **Nginx** to serve the static files generated by Astro.

## Prerequisites

- A Linux VPS (Ubuntu/Debian recommended)
- SSH Access to your VPS
- A domain name pointing to your VPS IP address
- Basic knowledge of terminal

## 1. Build the Project Locally

First, generate the static files on your local machine.

```bash
npm run build
```

This will create a `dist/` directory containing your entire website.

## 2. Prepare the VPS

SSH into your VPS:
```bash
ssh user@your-vps-ip
```

Update your system and install Nginx:
```bash
sudo apt update
sudo apt install nginx -y
```

Create a directory for your site:
```bash
sudo mkdir -p /var/www/kodingus.com
sudo chown -R $USER:$USER /var/www/kodingus.com
```

## 3. Upload Files

Back on your **local machine**, upload the contents of the `dist/` folder to your VPS using `scp` (or FileZilla).

```bash
# Run this from your project root on your local machine
scp -r dist/* user@your-vps-ip:/var/www/kodingus.com/
```

## 4. Configure Nginx

On your **VPS**, create a new Nginx configuration file:

```bash
sudo nano /etc/nginx/sites-available/kodingus.com
```

Paste the following configuration:

```nginx
server {
    listen 80;
    server_name your-domain.com www.your-domain.com;

    root /var/www/kodingus.com;
    index index.html;

    location / {
        try_files $uri $uri/ /index.html;
    }

    # Optional: Cache static assets for better performance
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg)$ {
        expires 30d;
        add_header Cache-Control "public, no-transform";
    }

    error_page 404 /404.html;
}
```

Enable the site configuration:
```bash
sudo ln -s /etc/nginx/sites-available/kodingus.com /etc/nginx/sites-enabled/
```

Test configurations for syntax errors:
```bash
sudo nginx -t
```
*If you see "syntax is ok", proceed.*

Restart Nginx:
```bash
sudo systemctl restart nginx
```

## 5. Enable HTTPS (SSL)

Securing your site with SSL is highly recommended. Use Certbot for free Let's Encrypt certificates.

```bash
sudo apt install certbot python3-certbot-nginx -y
sudo certbot --nginx -d your-domain.com -d www.your-domain.com
```

Follow the prompts, and you're done! Your site is now live and secure.
